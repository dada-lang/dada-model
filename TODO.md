Notes to myself about possible next steps:

- [x] add some basic tests for share/lease
- [x] incorporate liveness
- [x] convert from fns to methods
- [x] giving places should rename
- [x] tests for giving a shared value (I think it'll do the wrong thing now!)
- [x] tests for giving a leased value
- [x] moving from a class field `x` where other fields reference `self.x` -- this needs to either be an error or invalidate the struct
- [x] rework subtyping etc
- [x] subtyping rules for `our leased` etc are broken
- [x] cancellation
- [x] prevent mutation of shared content
- [x] introduce a "maybe copy" rule to limit splitting of paths -- addressed by using liveness
- [ ] subtyping -- leased T should be invariant in T
- [ ] giving of shared things currently moves, not copies -- I think this is fixed, test?
- [ ] complete type check rules for all the expressions
- [ ] fuzzing
- [ ] variance, atomic fields
- [ ] prevent mutation when perm parameter MAY be shared
- [ ] check mutation of fields and inherited permissions etc
- [ ] add structs/enums/value types
- [ ] convert Int to a value type
- [ ] popping variables from environment may need to clear from types
- [ ] pop variables from environment as we exit a block
- [ ] introduce environment consistency check and assert it at various points
- [ ] type inference
- [ ] `foo.give.share` -- does this even parse?
